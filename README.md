<div align="center">
    <img src="./assets/sentient_logo_transparent_pink.png" alt="alt text" width="60%"/>
    <h1>CryptoAnalystBench</h1>
</div>

<p align="center">
  <!-- Web-site -->
  <a href="https://sentient.xyz" target="_blank" style="margin: 2px;">
    <img alt="Homepage" src="https://img.shields.io/badge/Website-Sentient.xyz-%23FD698D.svg?logo=data:image/webp;base64,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"/>
  </a>
    <!-- Discord -->
    <a href="https://discord.gg/sentientfoundation">
        <img alt="Discord" src="https://img.shields.io/badge/Discord-SentientAGI-7289da?logo=discord&logoColor=white&color=7289da">
    </a>
    <a href="https://x.com/SentientAGI" target="_blank" style="margin: 2px;">
        <img alt="Twitter Follow" src="https://img.shields.io/badge/-SentientAGI-grey?logo=x&link=https%3A%2F%2Fx.com%2FSentientAGI%2F">
    </a>
    </a>
    <a href="https://github.com/sentient-agi" target="_blank" style="margin: 2px;">
      <img alt="GitHub" src="https://img.shields.io/badge/Github-sentient_agi-181717?logo=github">
    </a>
    <a href="https://huggingface.co/Sentientagi" target="_blank" style="margin: 2px;">
      <img alt="HF" src="https://img.shields.io/badge/%F0%9F%A4%97%20Hugging%20Face-SentientAGI-ffc107?color=ffc107&logoColor=white>">
    </a>
    <!-- License -->
    <a href="./LICENSE">
        <img alt="License" src="https://img.shields.io/badge/License-Apache_2.0-blue.svg?style">
    </a>
</p>

<p align="center">
  <a href="data/dataset.csv">Dataset</a>  •
  <a href="https://blog.sentient.xyz">Technical Blog</a> •
  Paper (Coming soon)
</p>

Long-form response quality evaluation harness for Web3/crypto domain queries. This system can be used to evaluate multiple AI responses using a judge LLM (Deepseek-V3.1-671B by default) on four key parameters: <b>Relevance</b>, <b>Temporal Relevance</b>, <b>Depth</b>, and <b>Data Consistency</b>.

## Evaluation Summary

<b>CryptoAnalystBench</b> evaluates AI responses to crypto/blockchain queries using an automated judge that scores each response on:

- **Relevance (1-10)**: How well does the response address the specific question?
- **Temporal Relevance (1-10)**: How current and timely is the information?
- **Depth (1-10)**: How comprehensive and detailed is the response?
- **Data Consistency (1-10)**: How consistent and contradiction-free is the information?

The system generates evaluation reports including per-model statistics, tag-wise rankings, and comparative analysis.

## Category distribution of CryptoAnalystBench queries

The benchmark dataset contains **198 queries** across **11 unique categories**:

![Query Distribution](assets/cab_query_distribution.png)

| Tag | Count |
|-----|-------|
| Project & Fundamental Research | 36 |
| Market Data & Price Discovery | 34 |
| On-Chain Analytics & Flows | 33 |
| Macro & Narrative Context | 23 |
| Trading & Strategy Design | 19 |
| Crypto Concepts & How-To | 17 |
| Comparative & Performance Analysis | 13 |
| Meme Coins | 10 |
| Security & Risks | 10 |
| NFTs | 2 |
| Default / General Analysis | 1 |

## How to Run

1. **Set up virtual environment**:
```bash
python3.12 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
```

2. **Configure environment variables**:
```bash
cp .env-example .env
```
Edit `.env` and add your API key:
```
export FIREWORKS_API_KEY="your_api_key_here"
```

3. **Prepare your input file**:
   - Use `data/dataset.csv` for queries
   - Generate one input file with AI responses for each query
   - Place the input file under `data/input/`

4. **Run the evaluation**:
```bash
python3.12 script.py --csv_path data/input/your_input_file.csv --models model1 model2 model3
```

**Example**:
```bash
python3.12 script.py --csv_path data/input/sample_input.csv --models sentient gpt5 grok4 pplx
```

**Optional arguments**:
- `--num_workers`: Number of parallel workers (default: 3)
- `--max_queries`: Maximum number of queries to evaluate (default: all)

5. **Output**: The evaluation generates an XLSX file in `data/output/` with:
   - Evaluation Results (detailed scores and rankings)
   - Per-Model Statistics (aggregate metrics)
   - Tag-wise Rankings (performance by query category)

## Expected Input File Format

The input CSV file must contain:

- **Required columns**:
  - `query`: The crypto/blockchain question to evaluate
  - `{model_name}_response`: Response column for each model (e.g., `sentient_response`, `gpt5_response`, `grok4_response`)

- **Optional columns**:
  - `tags`: Category tags for the query (e.g., "Macro & Narrative Context", "Comparative & Performance Analysis")

**Example structure**:

| query | tags | sentient_response | gpt5_response | grok4_response | pplx_response |
|-------|------|-------------------|---------------|----------------|---------------|
| What's the Bitcoin fear and greed index today? | Macro & Narrative Context | Response from Sentient... | Response from GPT5... | Response from Grok4... | Response from PPLX... |

**TL;DR.** Use `data/dataset.csv` for queries; generate one input file with LLM responses; place them under `data/input`; now you are good to go!